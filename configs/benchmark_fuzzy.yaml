# Benchmark configuration for ROCStories evaluation
run_name: "benchmark_fuzzy"
logging:
  level: DEBUG
  output_file: "outputs/logs/${run_name}.log"
seed: 42
use_cache: true
step_through: false

# Task configuration
tasks:
  defaults:
    max_docs: 20
    max_triplets: 5
    num_synthetic_docs: 0
    triplet_style: "lm_all"
    add_synthetic_docs: false
    candidate_strategy: "multi"
    use_spurious_hard_negs: true
    embedding_preset: "hf_qwen3_embedding_8b"
    max_num_candidates: 10
    n_schema_samples: 10
    rate_triplet_quality: true
    min_triplet_quality: 2
    prelabeled_selection: "hard_negatives"

  task_list:
    - document_set: rocstories
      criterion: seven_basic_plots
      max_triplets: 10

    - document_set: hackernews
      criterion: angle_of_interest
      max_triplets: 10

    - document_set: moralfables
      criterion: moral_lesson
      max_triplets: 10

    - document_set: onion_news
      criterion: satire_style
      max_triplets: 10

    - document_set: gsm8k
      criterion: math_topic
      max_docs: 100
      max_triplets: 10

    - document_set: gsm8k
      criterion: math_topic
      max_docs: 100
      max_triplets: 10
      config:
        question_only: true

    - document_set: ratemyprof
      criterion: teaching_style
      max_triplets: 10

    - document_set: goodreads_quotes
      criterion: theme
      max_triplets: 10

    - document_set: haiku
      criterion: season_theme
      max_triplets: 10

    - document_set: dickinson
      criterion: poetic_theme
      max_triplets: 10

    - document_set: feedbacks
      criterion: feedback_type
      max_triplets: 10

    - document_set: arxiv_cs
      criterion: research_topic
      max_docs: 200
      max_triplets: 10

    - document_set: bills
      criterion: policy_area
      max_docs: 200
      max_triplets: 10

    - document_set: aidanbench
      criterion: task_type
      max_triplets: 10

    - document_set: crossword_clues
      criterion: clue_difficulty
      max_triplets: 10

    - document_set: infinite_prompts
      criterion: prompt_category
      max_docs: 50
      max_triplets: 10

# Evaluation methods configuration
methods_to_evaluate:
  bm25:
    - name: bm25_lexical

  lm_judge_triplet:
    - name: gemini_flash_triplet_with_annotation
      preset: lmjudge_triplet_plaintext_binaryhard_with_annotation_gemini_flash
    - name: gemini_flash_triplet_no_annotation
      preset: lmjudge_triplet_plaintext_binaryhard_gemini_flash
    - name: gemini_pro_triplet_with_annotation
      preset: lmjudge_triplet_plaintext_binaryhard_with_annotation_gemini_pro
    - name: gemini_pro_triplet_no_annotation
      preset: lmjudge_triplet_plaintext_binaryhard_gemini_pro

  embeddings:
    - name: qwen3_8b_with_instructions
      preset: instr_hf_qwen3_embedding_8b

    - name: qwen3_8b_no_instructions
      preset: hf_qwen3_embedding_8b
