run_name: "benchmark_abstractsim"
logging:
  level: INFO
  output_file: "logs/abstractsim.log"
seed: 42
use_cache: true
step_through: false

tasks:
  defaults:
    max_docs: 1000
    max_triplets: 100
    num_synthetic_docs: 0
    triplet_style: "prelabeled"  # Automatically uses is_anchor markers
    add_synthetic_docs: false
    candidate_strategy: "multi"
    use_spurious_hard_negs: true
    embedding_preset: "hf_qwen3_embedding_8b"
    max_num_candidates: 10
    n_schema_samples: 10
    rate_triplet_quality: false
    min_triplet_quality: null
    selection_strategy: "hard_negatives"

  task_list:
    - document_set: abstractsim
      criterion: abstract_similarity
      split: validation
      max_docs: 1000
      max_triplets: 100

methods_to_evaluate:
  bm25:
    - name: bm25_lexical

  embeddings:
    - name: qwen3_8b_with_instructions
      preset: hf_qwen3_embedding_8b

    - name: qwen3_8b_no_instructions
      preset: hf_qwen3_embedding_8b
      preset_overrides:
        embed_query_instr_template: null

  lm_judge_triplet:
    - name: gemini_flash_triplet
      preset: lmjudge_triplet_plaintext_binaryhard_gemini_flash
