# Benchmark configuration for prelabeled datasets
run_name: "benchmark_prelabeled"
logging:
  level: INFO
  output_file: "outputs/logs/${run_name}.log"
seed: 42
use_cache: true
step_through: false

# Task configuration
tasks:
  defaults:
    max_docs: 500
    max_triplets: 100
    triplet_style: "prelabeled"
    prelabeled_selection: "hard_negatives"
    candidate_strategy: "multi"
    use_spurious_hard_negs: true
    embedding_preset: "hf_qwen3_embedding_8b"
    max_num_candidates: 10
    rate_triplet_quality: false
    min_triplet_quality: null

  task_list:
    - document_set: abstractsim
      criterion: abstract_similarity
      max_docs: 1000
      max_triplets: 100

    - document_set: analogies
      dataset_config: bats
      criterion: analogy_type
      max_triplets: 10

    - document_set: d5
      criterion: description_0
      max_docs: 5000
      max_triplets: 10

    - document_set: intent_emotion
      criterion: intent_similarity
      max_docs: 500
      max_triplets: 256
      config:
        subset: intent
        split: test

    - document_set: intent_emotion
      criterion: emotion_similarity
      max_docs: 500
      max_triplets: 256
      config:
        subset: emotion
        split: test

    - document_set: nytclustering
      criterion: topic
      max_docs: 500
      max_triplets: 256
      config:
        subset: topic
        split: test

    - document_set: nytclustering
      criterion: location
      max_docs: 500
      max_triplets: 256
      config:
        subset: location
        split: test

    - document_set: trex
      criterion: relation
      triplet_style: "kgc"
      max_docs: 500
      max_triplets: 50
      min_relation_freq: 10
      config:
        max_docs: 500
        split: validation
        min_relation_freq: 10

# Evaluation methods configuration
methods_to_evaluate:
  bm25:
    - name: bm25_lexical

  lm_judge_triplet:
    - name: gemini_flash_triplet_with_annotation
      preset: lmjudge_triplet_plaintext_binaryhard_with_annotation_gemini_flash
    - name: gemini_flash_triplet_no_annotation
      preset: lmjudge_triplet_plaintext_binaryhard_gemini_flash

  embeddings:
    - name: qwen3_8b_with_instructions
      preset: instr_hf_qwen3_embedding_8b

    - name: qwen3_8b_no_instructions
      preset: hf_qwen3_embedding_8b

    - name: openai_text_embedding_3_small
      preset: openai_embedding_small
