# D5 Applicability Demo: Properties and Headlines in Joint Embedding Space

## Overview
Demo of "instanceof" embeddings using the D5 dataset. Properties (descriptors) and headlines (texts) are embedded in the same space, enabling property-text matching based on applicability.

## Dataset Details
- **Docset**: `d5_applicability`
- **Source**: GitHub repo `ruiqi-zhong/D5`
- **Documents**: 60 properties + ~2000 texts (ABC news)
- **Criterion**: `applicability` (single criterion)
- **Scores**: Continuous applicability scores (0-1), binarized at threshold 0.5
- **Implementation**: `src/multiview/docsets/d5_applic.py`

## What Makes This Special
- **Joint embedding space**: Properties formatted as `"property: <text>"` and headlines as `"headline: <text>"` are embedded together
- **Bidirectional matching**: Can query properties→texts or texts→properties
- **Triplet types**:
  - Property-anchored: `(property, applicable_text, not_applicable_text)`
  - Text-anchored: `(text, applicable_property, not_applicable_property)`

## Key Concept
Headlines and descriptors should be embedded in the same space, where:
- Documents can be compared based on which descriptors apply to them
- Descriptors themselves become queryable/comparable entities
- Enables finding documents by descriptor similarity

## Example Use Cases
- Find all headlines applicable to a property (e.g., "mention coronavirus")
- Find all properties applicable to a headline (e.g., "nsw records 16 new cases")
- Evaluate whether embedding models can handle heterogeneous document types in the same space

## References
- Mentioned in `todo/datasets/b-add_data.md` (lines 78, 220, 307)
- Listed in `todo/datasets/b19-overflow_ideas.md` as "embed by applicability" task
- Config: `configs/benchmark_d5_100.yaml`

## Tasks
- [x] Create demo configuration file for D5 (`configs/benchmark_d5_100.yaml`)
- [ ] Run eval for d5_applicability
- [ ] Generate visualization showing properties + headlines in shared embedding space
- [ ] Document findings with example property-to-headline queries
- [ ] Analyze which embedding methods best handle the joint space

## Notes
- A separate `d5_doc2doc` variant exists for document-to-document comparison across 60 descriptor criteria, but is not the focus of this demo
